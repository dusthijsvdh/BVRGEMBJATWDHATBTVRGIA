<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>BVRGEMBJATWDHATBTVRGIA</title>
    <meta name="description" content="BVRGEMBJATWDHATBTVRGIA" />
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <!-- https://github.com/n5ro/aframe-physics-system -->
  </head>
  <body>
    <script src="./vr.js"></script>
    <script src="./clickable.js"></script>
    <script src="./movement.js"></script>
    <script src="./sound.js"></script>
    <script src="./trivia.js"></script>
    <a-scene
      stats
      shadow="type: pcfsoft"
      sound="src: #river; autoplay: true; loop: true; positional: false; poolSize: 2; volume: 0.25;"
      cursor="rayOrigin: mouse"
      raycaster="objects: [clickable]"
    >
      <!-- Assets -->
      <a-assets>
        <audio id="river" src="./sound/forestWind.mp3" preload="auto"></audio>
        <audio id="jeepSound" src="./sound/jeep.mp3" preload="auto"></audio>
        <audio
          id="birdFlying"
          src="./sound/birdFlying.mp3"
          preload="auto"
        ></audio>
        <audio
          id="birdSquawk"
          src="./sound/seagullSquawk.mp3"
          preload="auto"
        ></audio>

        <img id="sky" src="./images/cape_hill.jpg" />

        <a-asset-item id="mountain" src="../3d/mountain.gltf"></a-asset-item>
        <a-asset-item id="jeep" src="../3d/jeep.gltf"></a-asset-item>
        <a-asset-item id="bird" src="../3d/bird_animated.gltf"></a-asset-item>
        <a-asset-item id="birdReversed" src="../3d/bird_animatedReversed.gltf"></a-asset-item>
        <a-asset-item id="infoPost" src="../3d/post.gltf"></a-asset-item>
      </a-assets>
      <!-- Map -->
      <a-gltf-model
        id="map"
        src="#mountain"
        shadow="receive: true"
        position="-16.5 -10.5 -71.4"
        scale="10 10 10"
        rotation="0 180 0"
      >
      <!-- Birds -->
        <a-entity
          gltf-model="#bird"
          shadow="receive: false"
          scale="0.25 0.25 0.25"
          animation-mixer
          position="-2.966 3.021 -7.563"
        >
          <a-sound
            src="#birdFlying"
            autoplay="true"
            positional="true"
            loop="true"
            poolSize="1"
            volume="1"
          ></a-sound>
          <a-sound
            src="#birdSquawk"
            autoplay="true"
            positional="true"
            loop="true"
            poolSize="1"
            volume="4"
          ></a-sound>
        </a-entity>
        <a-entity
          gltf-model="#birdReversed"
          shadow="receive: false"
          scale="0.25 0.25 0.25"
          animation-mixer
          position="-2.966 3.481 -2.563"
        >
          <a-sound
            src="#birdFlying"
            autoplay="true"
            positional="true"
            loop="true"
            poolSize="1"
            volume="1"
          ></a-sound>
          <a-sound
            src="#birdSquawk"
            autoplay="true"
            positional="true"
            loop="true"
            poolSize="1"
            volume="4"
          ></a-sound>
        </a-entity>
        <a-entity
          gltf-model="#birdReversed"
          shadow="receive: false"
          scale="0.25 0.25 0.25"
          animation-mixer
          position="0.610 5.398 3.689"
        >
          <a-sound
            src="#birdFlying"
            autoplay="true"
            positional="true"
            loop="true"
            poolSize="1"
            volume="1"
          ></a-sound>
          <a-sound
            src="#birdSquawk"
            autoplay="true"
            positional="true"
            loop="true"
            poolSize="1"
            volume="4"
          ></a-sound>
        </a-entity>

        <!-- Jeep -->
        <a-entity
          gltf-model="#jeep"
          shadow="receive: false"
          scale="0.15 0.15 0.15"
          rotation="-0.113 30.649 2.700"
          position="-2.966 1.021 -7.563"
          visible="false"
          soundable
          sound="src: #jeepSound; autoplay: false; loop: false; positional: true; poolSize: 1; volume: 1;"
        >
          <a-entity
            light="type: spot; color: #ffef85; intensity: 1.08; groundColor: #ffffff; distance: 10; penumbra: 0.36; castShadow: true;"
            position="0.60514 0.85439 2.15322"
            rotation="173.88 -20.345 164.41"
          ></a-entity>
          <a-entity
            light="type: spot; color: #ffef85; intensity: 1.08; groundColor: #ffffff; distance: 10; penumbra: 0.36; castShadow: true;"
            position="-0.620 0.938 2.094"
            rotation="5.131 -178.19 -9.706"
          ></a-entity>
        </a-entity>

        <!-- Movement -->
        <a-box
          id="m1"
          material=""
          geometry=""
          position="-2.084 1.09 -5.596"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        <a-box
          id="m2"
          material=""
          geometry=""
          position="-2.084 1.441 -4.095"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        <a-box
          id="m3"
          material=""
          geometry=""
          position="-2.533 1.824 -2.699"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        <a-box
          id="m4"
          material=""
          geometry=""
          position="-2.499 1.999 -1.120"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        <a-box
          id="m5"
          material=""
          geometry=""
          position="-3.852 2.174 -0.258"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        <a-box
          id="m5extra"
          material=""
          geometry=""
          position="-3.234 2.257 0.080"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        <a-box
          id="m5extra1"
          material=""
          geometry=""
          position="-3.861 2.284 1.047"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        <a-box
          id="m6"
          material=""
          geometry=""
          position="-3.290 2.377 1.744"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        <a-box
          id="m6extra"
          material=""
          geometry=""
          position="-2.616 2.597 1.999"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        <a-box
          id="m7"
          material=""
          geometry=""
          position="-1.330 3.085 2.192"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        <a-box
          id="m7extra"
          material=""
          geometry=""
          position="-0.749 3.339 3.161"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        <a-box
          id="m8"
          material=""
          geometry=""
          position="0.535 3.223 2.637"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        <a-box
          id="m8extra"
          material=""
          geometry=""
          position="0.216 3.313 3.391"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        <a-box
          id="mJeep"
          material=""
          geometry=""
          position="-2.732 1.060 -6.852"
          scale="0.08 0.08 0.08"
          clickable
          movable
        ></a-box>
        

        <!-- Trivia -->
        <a-box
          id="t1"
          material=""
          geometry=""
          scale="0.08 0.08 0.08"
          position="-1.55 1.6 -4.137"
          clickable
          trivia
        ></a-box>
        <a-box
          id="t2"
          material=""
          geometry=""
          scale="0.08 0.08 0.08"
          position="-2.045 2.217 -1.189"
          clickable
          trivia
        ></a-box>
        <a-box
          id="t3"
          material=""
          geometry=""
          scale="0.08 0.08 0.08"
          position="-2.866 2.459 0.121"
          clickable
          trivia
        ></a-box>
        <a-box
          id="t4"
          material=""
          geometry=""
          scale="0.08 0.08 0.08"
          position="-3.258 2.564 2.382"
          clickable
          trivia
        ></a-box>
        <a-box
          id="t5"
          material=""
          geometry=""
          scale="0.08 0.08 0.08"
          position="-1.337 3.248 1.732"
          clickable
          trivia
        ></a-box>
        <a-box
          id="tend"
          material=""
          geometry=""
          scale="0.08 0.08 0.08"
          position="0.610 3.398 3.689"
          rotation="0 50 0"
          clickable
          trivia
        ></a-box>

        <!-- posts -->
        <a-gltf-model
          src="#infoPost"
          scale="0.04 0.04 0.04"
          rotation="0 -90 0"
          position="-1.55 1.419 -4.137"
          clickable
          trivia
        ></a-gltf-model>
        <a-gltf-model
          src="#infoPost"
          scale="0.04 0.04 0.04"
          rotation="0 -90 0"
          position="-2.045 1.952 -1.189"
          clickable
          trivia
        ></a-gltf-model>
        <a-gltf-model
          src="#infoPost"
          scale="0.04 0.04 0.04"
          rotation="0 -90 0"
          position="-2.866 2.280 0.121"
          clickable
          trivia
        ></a-gltf-model>
        <a-gltf-model
          src="#infoPost"
          scale="0.04 0.04 0.04"
          rotation="0 -180 0"
          position="-3.258 2.365 2.382"
          clickable
          trivia
        ></a-gltf-model>
        <a-gltf-model
          src="#infoPost"
          scale="0.04 0.04 0.04"
          rotation="0 0 0"
          position="-1.337 3.043 1.732"
          clickable
          trivia
        ></a-gltf-model>
        <a-gltf-model
          src="#infoPost"
          scale="0.04 0.04 0.04"
          rotation="0 -130 0"
          position="0.603 3.210 3.671"
          rotation="0 50 0"
          clickable
          trivia
        ></a-gltf-model>
      </a-gltf-model>

      <a-entity
        light="type: directional; color: #F5FFCC; intensity: 1.3;"
        position="51.89217 161.51931 -72.92806"
      ></a-entity>
      <a-entity
        light="type: ambient; color: #F5FFCC; intensity: 0.75;"
      ></a-entity>
      <a-camera id="camera">
        <a-cursor
          id="cursor"
          fuse="true"
          fuse-timeout="1500"
          raycaster="objects: [clickable], [soundable]"
          animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1"
          animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 1 1 1; to: 0.1 0.1 0.1"
          animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"
        ></a-cursor>
      </a-camera>
      <a-sky src="#sky"></a-sky>
    </a-scene>
  </body>
</html>
